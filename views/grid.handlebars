<p>Grid and other components can load and save data through a common REST protocol</p>
<div id='grid-container'></div>
<script>

webix.i18n.parseFormat = "%c";
webix.i18n.setLocale();

var toolbar = {
	view:"toolbar",
	cols:[
		{ view:"button", value:"Add User", width:120, click:function(){
			$$("grid").add({
			})
		}},
		{ view:"button", value:"Delete User", width:120, click:function(){
			var rows = $$("grid").getSelectedId(true);
			if (rows.length)
				$$("grid").remove(rows);

		}},
	]
};
var toolbarRole = {
	view:"toolbar",
	cols:[
		{ view:"button", value:"Add Role", width:120, click:function(){
			$$("gridRole").add({
			})
		}},
		{ view:"button", value:"Delete Role", width:120, click:function(){
			var rows = $$("grid").getSelectedId(true);
			if (rows.length)
				$$("gridRole").remove(rows);

		}},
	]
};
var grid = {
	view:"datatable", id:"grid", select:true,
	autoheight:true, scroll:false,
	editable:true,
	columns:[
		{ id:"username", header:"User Name", editor:"text"},
		{ id:"name", header:"Real Name", editor:"text"},
		{ id:"email", header:"Email", width: 150, editor:"text"},
		{ id:"age", header:"Age", width: 45, editor:"text"},
		{ id:"Role", header:"Role", width: 150, editor:"text"},
	],
	url:"/grid/data",
	save:"rest->/grid/data"
};
var gridRole = {
	view:"datatable", id:"gridRole", select:true,
	autoheight:true, scroll:false,
	editable:true,
	columns:[
		{ id:"Role_id", header:"Role ID", editor:"text"},
		{ id:"Role_name", header:"Role Name", editor:"text"},
		{ id:"Role_desc", header:"Role Description", width: 150, editor:"text"},
		
	],
	url:"/grid/data",
	save:"rest->/grid/data"
};
webix.ui({
	width:640, type:"space",
	container:"grid-container",
	rows:[
		toolbar, grid
	]
});
webix.ui({
	width:640, type:"space",
	container:"grid-container",
	rows:[
		toolbarRole, gridRole
	]
});
</script>